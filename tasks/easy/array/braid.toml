level             = "easy"
name              = "braid"
tags              = ["arrays", "simulation"]
time_to_solve_sec = 300

description_en = """
You are given three arrays `a1`, `a2`, `a3` of equal length $n$.

Form a **braid** as follows. For each index $i$ from $0$ to $n-1$:
output the triplet $[A_0[i], A_1[i], A_2[i]]$, then
- if $i$ is even, swap the first two ribbons: $(A_0, A_1, A_2) \\leftarrow (A_1, A_0, A_2)$;
- otherwise, swap the last two ribbons: $(A_0, A_1, A_2) \\leftarrow (A_0, A_2, A_1)$.

Return the resulting array of triplets.
"""

description_ru = """
Даны три массива одинаковой длины `a1`, `a2`, `a3` (длина $n$).

Плетём **косичку** так. Для каждого индекса $i$ от $0$ до $n-1$:
выведите тройку $[A_0[i], A_1[i], A_2[i]]$, затем
- если $i$ чётный, поменяйте местами первые две ленты: $(A_0, A_1, A_2) \\leftarrow (A_1, A_0, A_2)$;
- иначе поменяйте местами последние две ленты: $(A_0, A_1, A_2) \\leftarrow (A_0, A_2, A_1)$.

Верните получившийся массив троек.
"""

limits = """
- $1 \\le n \\le 42$
- $\\text{len}(a1) = \\text{len}(a2) = \\text{len}(a3) = n$
"""

solution = """
def solution(a1, a2, a3):
    A = [a1, a2, a3]
    r = []
    for i in range(len(a1)):
        r.append([A[0][i], A[1][i], A[2][i]])
        A = [A[1], A[0], A[2]] if i % 2 == 0 else [A[0], A[2], A[1]]
    return r
"""

examples = """
solution(
    ['0','1','2','3','4','5'],
    ['a','b','c','d','e','f'],
    ['!','@','#','$','%','^']
) == [
    ['0','a','!'],
    ['b','1','@'],
    ['c','#','2'],
    ['$','d','3'],
    ['%','4','e'],
    ['5','^','f']
]
"""

[[input_signature]]
argument_name = "a1"
[input_signature.type]
name = "array"
[input_signature.type.nested]
name = "string"

[[input_signature]]
argument_name = "a2"
[input_signature.type]
name = "array"
[input_signature.type.nested]
name = "string"

[[input_signature]]
argument_name = "a3"
[input_signature.type]
name = "array"
[input_signature.type.nested]
name = "string"

[output_signature.type]
name = "array"
[output_signature.type.nested]
name = "array"
[output_signature.type.nested.nested]
name = "string"

# --- Asserts (25) ---
[[asserts]]
arguments = [["a", "b", "c"], ["1", "2", "3"], ["!", "@", "#"]]
comment   = "Basic braid"
expected  = [["a", "1", "!"], ["2", "b", "@"], ["3", "#", "c"]]

[[asserts]]
arguments = [["x"], ["y"], ["z"]]
comment   = "Length 1"
expected  = [["x", "y", "z"]]

[[asserts]]
arguments = [["a", "b"], ["1", "2"], ["!", "@"]]
comment   = "Length 2"
expected  = [["a", "1", "!"], ["2", "b", "@"]]

[[asserts]]
arguments = [
  [
    "red",
    "green",
    "blue",
    "yellow",
  ],
  [
    "cat",
    "dog",
    "bird",
    "fish",
  ],
  [
    "sun",
    "moon",
    "star",
    "cloud",
  ],
]
comment = "Length 4"
expected = [
  [
    "red",
    "cat",
    "sun",
  ],
  [
    "dog",
    "green",
    "moon",
  ],
  [
    "bird",
    "star",
    "blue",
  ],
  [
    "cloud",
    "fish",
    "yellow",
  ],
]

[[asserts]]
arguments = [
  [
    "A",
    "B",
    "C",
    "D",
    "E",
  ],
  [
    "1",
    "2",
    "3",
    "4",
    "5",
  ],
  [
    "X",
    "Y",
    "Z",
    "W",
    "Q",
  ],
]
comment = "Length 5"
expected = [
  [
    "A",
    "1",
    "X",
  ],
  [
    "2",
    "B",
    "Y",
  ],
  [
    "3",
    "Z",
    "C",
  ],
  [
    "W",
    "4",
    "D",
  ],
  [
    "Q",
    "E",
    "5",
  ],
]

[[asserts]]
arguments = [
  [
    "0",
    "1",
    "2",
    "3",
    "4",
    "5",
  ],
  [
    "a",
    "b",
    "c",
    "d",
    "e",
    "f",
  ],
  [
    "!",
    "@",
    "#",
    "$",
    "%",
    "^",
  ],
]
comment = "Length 6"
expected = [
  [
    "0",
    "a",
    "!",
  ],
  [
    "b",
    "1",
    "@",
  ],
  [
    "c",
    "#",
    "2",
  ],
  [
    "$",
    "d",
    "3",
  ],
  [
    "%",
    "4",
    "e",
  ],
  [
    "5",
    "^",
    "f",
  ],
]

[[asserts]]
arguments = [["apple", "banana"], ["orange", "grape"], ["cherry", "peach"]]
comment   = "Fruits"
expected  = [["apple", "orange", "cherry"], ["grape", "banana", "peach"]]

[[asserts]]
arguments = [["Mon", "Tue", "Wed"], ["Jan", "Feb", "Mar"], ["AM", "PM", "UTC"]]
comment   = "Abbreviations"
expected  = [["Mon", "Jan", "AM"], ["Feb", "Tue", "PM"], ["Mar", "UTC", "Wed"]]

[[asserts]]
arguments = [["start"], ["middle"], ["end"]]
comment   = "Single elements again"
expected  = [["start", "middle", "end"]]

[[asserts]]
arguments = [["first", "second"], ["alpha", "beta"], ["one", "two"]]
comment   = "Words"
expected  = [["first", "alpha", "one"], ["beta", "second", "two"]]

[[asserts]]
arguments = [
  [
    "cat",
    "dog",
    "bird",
  ],
  [
    "red",
    "blue",
    "green",
  ],
  [
    "fast",
    "slow",
    "quick",
  ],
]
comment = "Animals & colors & speeds"
expected = [
  [
    "cat",
    "red",
    "fast",
  ],
  [
    "blue",
    "dog",
    "slow",
  ],
  [
    "green",
    "quick",
    "bird",
  ],
]

[[asserts]]
arguments = [
  [
    "book",
    "pen",
    "desk",
  ],
  [
    "read",
    "write",
    "sit",
  ],
  [
    "library",
    "office",
    "home",
  ],
]
comment = "Objects & actions"
expected = [
  [
    "book",
    "read",
    "library",
  ],
  [
    "write",
    "pen",
    "office",
  ],
  [
    "sit",
    "home",
    "desk",
  ],
]

[[asserts]]
arguments = [
  [
    "circle",
    "square",
    "triangle",
  ],
  [
    "round",
    "flat",
    "sharp",
  ],
  [
    "wheel",
    "box",
    "roof",
  ],
]
comment = "Geometry"
expected = [
  [
    "circle",
    "round",
    "wheel",
  ],
  [
    "flat",
    "square",
    "box",
  ],
  [
    "sharp",
    "roof",
    "triangle",
  ],
]

[[asserts]]
arguments = [
  [
    "small",
    "medium",
    "large",
  ],
  [
    "mouse",
    "cat",
    "dog",
  ],
  [
    "quiet",
    "soft",
    "loud",
  ],
]
comment = "Sizes & sounds"
expected = [
  [
    "small",
    "mouse",
    "quiet",
  ],
  [
    "cat",
    "medium",
    "soft",
  ],
  [
    "dog",
    "loud",
    "large",
  ],
]

[[asserts]]
arguments = [["left", "right"], ["up", "down"], ["top", "bottom"]]
comment   = "Directions"
expected  = [["left", "up", "top"], ["down", "right", "bottom"]]

[[asserts]]
arguments = [["hot", "cold"], ["fire", "ice"], ["red", "blue"]]
comment   = "Opposites"
expected  = [["hot", "fire", "red"], ["ice", "cold", "blue"]]

[[asserts]]
arguments = [
  [
    "one",
    "two",
    "three",
  ],
  [
    "first",
    "second",
    "third",
  ],
  [
    "alpha",
    "beta",
    "gamma",
  ],
]
comment = "Numbers & Greek"
expected = [
  [
    "one",
    "first",
    "alpha",
  ],
  [
    "second",
    "two",
    "beta",
  ],
  [
    "third",
    "gamma",
    "three",
  ],
]

[[asserts]]
arguments = [["sun", "moon"], ["day", "night"], ["light", "dark"]]
comment   = "Day & night"
expected  = [["sun", "day", "light"], ["night", "moon", "dark"]]

[[asserts]]
arguments = [["car", "bike"], ["fast", "slow"], ["road", "path"]]
comment   = "Transport"
expected  = [["car", "fast", "road"], ["slow", "bike", "path"]]

[[asserts]]
arguments = [["apple", "orange"], ["sweet", "sour"], ["tree", "bush"]]
comment   = "Tastes"
expected  = [["apple", "sweet", "tree"], ["sour", "orange", "bush"]]

[[asserts]]
arguments = [["big", "small"], ["elephant", "mouse"], ["heavy", "light"]]
comment   = "Size & weight"
expected  = [["big", "elephant", "heavy"], ["mouse", "small", "light"]]

[[asserts]]
arguments = [["happy", "sad"], ["smile", "cry"], ["joy", "tear"]]
comment   = "Emotions"
expected  = [["happy", "smile", "joy"], ["cry", "sad", "tear"]]

[[asserts]]
arguments = [
  [
    "green",
    "blue",
    "red",
  ],
  [
    "grass",
    "sky",
    "fire",
  ],
  [
    "nature",
    "air",
    "heat",
  ],
]
comment = "Associations"
expected = [
  [
    "green",
    "grass",
    "nature",
  ],
  [
    "sky",
    "blue",
    "air",
  ],
  [
    "fire",
    "heat",
    "red",
  ],
]

[[asserts]]
arguments = [["work", "rest"], ["busy", "calm"], ["stress", "peace"]]
comment   = "Work & rest"
expected  = [["work", "busy", "stress"], ["calm", "rest", "peace"]]

[[asserts]]
arguments = [["young", "old"], ["child", "adult"], ["learn", "teach"]]
comment   = "Age & learning"
expected  = [["young", "child", "learn"], ["adult", "old", "teach"]]
