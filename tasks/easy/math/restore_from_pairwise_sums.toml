level             = "easy"
name              = "restore_from_pairwise_sums"
tags              = ["math", "array"]
time_to_solve_sec = 300

description_en = """
You are given a square matrix $S$ of size $n \\times n$ built from a positive array $A$ of length $n$. Each element of the matrix is defined as follows:

$$
S[i][j] = \\begin{cases}
A[i] + A[j], & i \\ne j,\\\\
0, & i = j.
\\end{cases}
$$

Your task is to recover the original array $A$ from the given matrix $S$. The answer is guaranteed to be unique.
"""

description_ru = """
Дана квадратная матрица $S$ размером $n \\times n$, построенная по положительному массиву $A$ длины $n$. Каждый элемент матрицы определяется следующим образом:

$$
S[i][j]=
\\begin{cases}
A[i]+A[j], & i\\ne j,\\\\
0, & i=j.
\\end{cases}
$$

Ваша задача — восстановить исходный массив $A$ по данной матрице $S$. Гарантируется единственность ответа.
"""

limits = """
- $3 \\leq n \\leq 10$ (where $n$ is the size of the matrix and length of array $A$)
- $1 \\leq A[i] \\leq 50$ (all elements of $A$ are positive)
- $0 \\leq S[i][j] \\leq 100$
- $S[i][i] = 0$ (diagonal elements are zero)
- $S[i][j] = S[j][i]$ (matrix is symmetric)
"""

solution = """
def solution(s: list[list[int]]) -> list[int]:
    # A0 = (S01 + S02 - S12)/2
    a0 = (s[0][1] + s[0][2] - s[1][2]) // 2
    ans = [a0]
    for i in range(1, len(s)):
        ans.append(s[i][0] - a0)
    return ans
"""

examples = """
solution([
 [0, 9, 6, 7],
 [9, 0, 5, 6],
 [6, 5, 0, 3],
 [7, 6, 3, 0]
]) == [5, 4, 1, 2]
"""

[[input_signature]]
argument_name = "s"
[input_signature.type]
name = "array"
[input_signature.type.nested]
name = "array"
[input_signature.type.nested.nested]
name = "integer"

[output_signature.type]
name = "array"
[output_signature.type.nested]
name = "integer"

# Asserts (your full set preserved)
[[asserts]]
arguments = [[[0, 9, 6, 7], [9, 0, 5, 6], [6, 5, 0, 3], [7, 6, 3, 0]]]
expected  = [5, 4, 1, 2]

[[asserts]]
arguments = [
  [
    [
      0,
      16,
      29,
      20,
      23,
    ],
    [
      16,
      0,
      19,
      10,
      13,
    ],
    [
      29,
      19,
      0,
      23,
      26,
    ],
    [
      20,
      10,
      23,
      0,
      17,
    ],
    [
      23,
      13,
      26,
      17,
      0,
    ],
  ],
]
expected = [13, 3, 16, 7, 10]

[[asserts]]
arguments = [[[0, 17, 27], [17, 0, 28], [27, 28, 0]]]
expected  = [8, 9, 19]

[[asserts]]
arguments = [
  [
    [
      0,
      12,
      17,
      9,
      7,
      13,
      12,
      6,
    ],
    [
      12,
      0,
      21,
      13,
      11,
      17,
      16,
      10,
    ],
    [
      17,
      21,
      0,
      18,
      16,
      22,
      21,
      15,
    ],
    [
      9,
      13,
      18,
      0,
      8,
      14,
      13,
      7,
    ],
    [
      7,
      11,
      16,
      8,
      0,
      12,
      11,
      5,
    ],
    [
      13,
      17,
      22,
      14,
      12,
      0,
      17,
      11,
    ],
    [
      12,
      16,
      21,
      13,
      11,
      17,
      0,
      10,
    ],
    [
      6,
      10,
      15,
      7,
      5,
      11,
      10,
      0,
    ],
  ],
]
expected = [4, 8, 13, 5, 3, 9, 8, 2]

[[asserts]]
arguments = [
  [
    [
      0,
      20,
      28,
      16,
    ],
    [
      20,
      0,
      24,
      12,
    ],
    [
      28,
      24,
      0,
      20,
    ],
    [
      16,
      12,
      20,
      0,
    ],
  ],
]
expected = [12, 8, 16, 4]

[[asserts]]
arguments = [[[0, 9, 11], [9, 0, 14], [11, 14, 0]]]
expected  = [3, 6, 8]

[[asserts]]
arguments = [[[0, 22, 3, 20], [22, 0, 21, 38], [3, 21, 0, 19], [20, 38, 19, 0]]]
expected  = [2, 20, 1, 18]

[[asserts]]
arguments = [
  [
    [
      0,
      24,
      17,
      30,
      18,
    ],
    [
      24,
      0,
      15,
      28,
      16,
    ],
    [
      17,
      15,
      0,
      21,
      9,
    ],
    [
      30,
      28,
      21,
      0,
      22,
    ],
    [
      18,
      16,
      9,
      22,
      0,
    ],
  ],
]
expected = [13, 11, 4, 17, 5]

[[asserts]]
arguments = [
  [
    [
      0,
      27,
      12,
      11,
      22,
      25,
    ],
    [
      27,
      0,
      25,
      24,
      35,
      38,
    ],
    [
      12,
      25,
      0,
      9,
      20,
      23,
    ],
    [
      11,
      24,
      9,
      0,
      19,
      22,
    ],
    [
      22,
      35,
      20,
      19,
      0,
      33,
    ],
    [
      25,
      38,
      23,
      22,
      33,
      0,
    ],
  ],
]
expected = [7, 20, 5, 4, 15, 18]

[[asserts]]
arguments = [
  [
    [
      0,
      25,
      24,
      33,
    ],
    [
      25,
      0,
      23,
      32,
    ],
    [
      24,
      23,
      0,
      31,
    ],
    [
      33,
      32,
      31,
      0,
    ],
  ],
]
expected = [13, 12, 11, 20]

[[asserts]]
arguments = [
  [
    [
      0,
      8,
      5,
      20,
      14,
    ],
    [
      8,
      0,
      11,
      26,
      20,
    ],
    [
      5,
      11,
      0,
      23,
      17,
    ],
    [
      20,
      26,
      23,
      0,
      32,
    ],
    [
      14,
      20,
      17,
      32,
      0,
    ],
  ],
]
expected = [1, 7, 4, 19, 13]

[[asserts]]
arguments = [
  [
    [
      0,
      24,
      27,
      28,
    ],
    [
      24,
      0,
      11,
      12,
    ],
    [
      27,
      11,
      0,
      15,
    ],
    [
      28,
      12,
      15,
      0,
    ],
  ],
]
expected = [20, 4, 7, 8]

[[asserts]]
arguments = [[[0, 19, 9, 16], [19, 0, 18, 25], [9, 18, 0, 15], [16, 25, 15, 0]]]
expected  = [5, 14, 4, 11]

[[asserts]]
arguments = [
  [
    [
      0,
      22,
      31,
      27,
    ],
    [
      22,
      0,
      21,
      17,
    ],
    [
      31,
      21,
      0,
      26,
    ],
    [
      27,
      17,
      26,
      0,
    ],
  ],
]
expected = [16, 6, 15, 11]

[[asserts]]
arguments = [[[0, 20, 21, 19], [20, 0, 7, 5], [21, 7, 0, 6], [19, 5, 6, 0]]]
expected  = [17, 3, 4, 2]

[[asserts]]
arguments = [
  [
    [
      0,
      35,
      21,
      20,
      33,
      21,
    ],
    [
      35,
      0,
      18,
      17,
      30,
      18,
    ],
    [
      21,
      18,
      0,
      3,
      16,
      4,
    ],
    [
      20,
      17,
      3,
      0,
      15,
      3,
    ],
    [
      33,
      30,
      16,
      15,
      0,
      16,
    ],
    [
      21,
      18,
      4,
      3,
      16,
      0,
    ],
  ],
]
expected = [19, 16, 2, 1, 14, 2]

[[asserts]]
arguments = [
  [
    [
      0,
      8,
      8,
      23,
      14,
      17,
    ],
    [
      8,
      0,
      2,
      17,
      8,
      11,
    ],
    [
      8,
      2,
      0,
      17,
      8,
      11,
    ],
    [
      23,
      17,
      17,
      0,
      23,
      26,
    ],
    [
      14,
      8,
      8,
      23,
      0,
      17,
    ],
    [
      17,
      11,
      11,
      26,
      17,
      0,
    ],
  ],
]
expected = [7, 1, 1, 16, 7, 10]

[[asserts]]
arguments = [[[0, 29, 29], [29, 0, 24], [29, 24, 0]]]
expected  = [17, 12, 12]

[[asserts]]
arguments = [
  [
    [
      0,
      18,
      8,
      13,
      21,
      20,
      25,
      24,
      13,
      16,
    ],
    [
      18,
      0,
      12,
      17,
      25,
      24,
      29,
      28,
      17,
      20,
    ],
    [
      8,
      12,
      0,
      7,
      15,
      14,
      19,
      18,
      7,
      10,
    ],
    [
      13,
      17,
      7,
      0,
      20,
      19,
      24,
      23,
      12,
      15,
    ],
    [
      21,
      25,
      15,
      20,
      0,
      27,
      32,
      31,
      20,
      23,
    ],
    [
      20,
      24,
      14,
      19,
      27,
      0,
      31,
      30,
      19,
      22,
    ],
    [
      25,
      29,
      19,
      24,
      32,
      31,
      0,
      35,
      24,
      27,
    ],
    [
      24,
      28,
      18,
      23,
      31,
      30,
      35,
      0,
      23,
      26,
    ],
    [
      13,
      17,
      7,
      12,
      20,
      19,
      24,
      23,
      0,
      15,
    ],
    [
      16,
      20,
      10,
      15,
      23,
      22,
      27,
      26,
      15,
      0,
    ],
  ],
]
expected = [7, 11, 1, 6, 14, 13, 18, 17, 6, 9]

[[asserts]]
arguments = [
  [
    [
      0,
      14,
      32,
      15,
      22,
    ],
    [
      14,
      0,
      20,
      3,
      10,
    ],
    [
      32,
      20,
      0,
      21,
      28,
    ],
    [
      15,
      3,
      21,
      0,
      11,
    ],
    [
      22,
      10,
      28,
      11,
      0,
    ],
  ],
]
expected = [13, 1, 19, 2, 9]

[[asserts]]
arguments = [
  [
    [
      0,
      30,
      32,
      22,
    ],
    [
      30,
      0,
      38,
      28,
    ],
    [
      32,
      38,
      0,
      30,
    ],
    [
      22,
      28,
      30,
      0,
    ],
  ],
]
expected = [12, 18, 20, 10]

[[asserts]]
arguments = [
  [
    [
      0,
      33,
      25,
      38,
      27,
      28,
      37,
    ],
    [
      33,
      0,
      18,
      31,
      20,
      21,
      30,
    ],
    [
      25,
      18,
      0,
      23,
      12,
      13,
      22,
    ],
    [
      38,
      31,
      23,
      0,
      25,
      26,
      35,
    ],
    [
      27,
      20,
      12,
      25,
      0,
      15,
      24,
    ],
    [
      28,
      21,
      13,
      26,
      15,
      0,
      25,
    ],
    [
      37,
      30,
      22,
      35,
      24,
      25,
      0,
    ],
  ],
]
expected = [20, 13, 5, 18, 7, 8, 17]

[[asserts]]
arguments = [
  [
    [
      0,
      34,
      23,
      34,
      18,
      19,
    ],
    [
      34,
      0,
      25,
      36,
      20,
      21,
    ],
    [
      23,
      25,
      0,
      25,
      9,
      10,
    ],
    [
      34,
      36,
      25,
      0,
      20,
      21,
    ],
    [
      18,
      20,
      9,
      20,
      0,
      5,
    ],
    [
      19,
      21,
      10,
      21,
      5,
      0,
    ],
  ],
]
expected = [16, 18, 7, 18, 2, 3]

[[asserts]]
arguments = [
  [
    [
      0,
      13,
      4,
      21,
      6,
      9,
      16,
      11,
    ],
    [
      13,
      0,
      11,
      28,
      13,
      16,
      23,
      18,
    ],
    [
      4,
      11,
      0,
      19,
      4,
      7,
      14,
      9,
    ],
    [
      21,
      28,
      19,
      0,
      21,
      24,
      31,
      26,
    ],
    [
      6,
      13,
      4,
      21,
      0,
      9,
      16,
      11,
    ],
    [
      9,
      16,
      7,
      24,
      9,
      0,
      19,
      14,
    ],
    [
      16,
      23,
      14,
      31,
      16,
      19,
      0,
      21,
    ],
    [
      11,
      18,
      9,
      26,
      11,
      14,
      21,
      0,
    ],
  ],
]
expected = [3, 10, 1, 18, 3, 6, 13, 8]

[[asserts]]
arguments = [
  [
    [
      0,
      27,
      20,
      26,
      19,
      14,
      30,
      30,
      29,
    ],
    [
      27,
      0,
      25,
      31,
      24,
      19,
      35,
      35,
      34,
    ],
    [
      20,
      25,
      0,
      24,
      17,
      12,
      28,
      28,
      27,
    ],
    [
      26,
      31,
      24,
      0,
      23,
      18,
      34,
      34,
      33,
    ],
    [
      19,
      24,
      17,
      23,
      0,
      11,
      27,
      27,
      26,
    ],
    [
      14,
      19,
      12,
      18,
      11,
      0,
      22,
      22,
      21,
    ],
    [
      30,
      35,
      28,
      34,
      27,
      22,
      0,
      38,
      37,
    ],
    [
      30,
      35,
      28,
      34,
      27,
      22,
      38,
      0,
      37,
    ],
    [
      29,
      34,
      27,
      33,
      26,
      21,
      37,
      37,
      0,
    ],
  ],
]
expected = [11, 16, 9, 15, 8, 3, 19, 19, 18]

[[asserts]]
arguments = [
  [
    [
      0,
      19,
      9,
      8,
      25,
      17,
      18,
      27,
      18,
    ],
    [
      19,
      0,
      14,
      13,
      30,
      22,
      23,
      32,
      23,
    ],
    [
      9,
      14,
      0,
      3,
      20,
      12,
      13,
      22,
      13,
    ],
    [
      8,
      13,
      3,
      0,
      19,
      11,
      12,
      21,
      12,
    ],
    [
      25,
      30,
      20,
      19,
      0,
      28,
      29,
      38,
      29,
    ],
    [
      17,
      22,
      12,
      11,
      28,
      0,
      21,
      30,
      21,
    ],
    [
      18,
      23,
      13,
      12,
      29,
      21,
      0,
      31,
      22,
    ],
    [
      27,
      32,
      22,
      21,
      38,
      30,
      31,
      0,
      31,
    ],
    [
      18,
      23,
      13,
      12,
      29,
      21,
      22,
      31,
      0,
    ],
  ],
]
expected = [7, 12, 2, 1, 18, 10, 11, 20, 11]

[[asserts]]
arguments = [
  [
    [
      0,
      26,
      30,
      22,
      18,
      23,
      25,
      24,
      32,
      19,
    ],
    [
      26,
      0,
      32,
      24,
      20,
      25,
      27,
      26,
      34,
      21,
    ],
    [
      30,
      32,
      0,
      28,
      24,
      29,
      31,
      30,
      38,
      25,
    ],
    [
      22,
      24,
      28,
      0,
      16,
      21,
      23,
      22,
      30,
      17,
    ],
    [
      18,
      20,
      24,
      16,
      0,
      17,
      19,
      18,
      26,
      13,
    ],
    [
      23,
      25,
      29,
      21,
      17,
      0,
      24,
      23,
      31,
      18,
    ],
    [
      25,
      27,
      31,
      23,
      19,
      24,
      0,
      25,
      33,
      20,
    ],
    [
      24,
      26,
      30,
      22,
      18,
      23,
      25,
      0,
      32,
      19,
    ],
    [
      32,
      34,
      38,
      30,
      26,
      31,
      33,
      32,
      0,
      27,
    ],
    [
      19,
      21,
      25,
      17,
      13,
      18,
      20,
      19,
      27,
      0,
    ],
  ],
]
expected = [12, 14, 18, 10, 6, 11, 13, 12, 20, 7]

[[asserts]]
arguments = [
  [
    [
      0,
      8,
      22,
      22,
      26,
      19,
      14,
    ],
    [
      8,
      0,
      18,
      18,
      22,
      15,
      10,
    ],
    [
      22,
      18,
      0,
      32,
      36,
      29,
      24,
    ],
    [
      22,
      18,
      32,
      0,
      36,
      29,
      24,
    ],
    [
      26,
      22,
      36,
      36,
      0,
      33,
      28,
    ],
    [
      19,
      15,
      29,
      29,
      33,
      0,
      21,
    ],
    [
      14,
      10,
      24,
      24,
      28,
      21,
      0,
    ],
  ],
]
expected = [6, 2, 16, 16, 20, 13, 8]

[[asserts]]
arguments = [
  [
    [
      0,
      34,
      20,
      32,
      32,
      34,
      26,
      28,
      28,
      18,
    ],
    [
      34,
      0,
      26,
      38,
      38,
      40,
      32,
      34,
      34,
      24,
    ],
    [
      20,
      26,
      0,
      24,
      24,
      26,
      18,
      20,
      20,
      10,
    ],
    [
      32,
      38,
      24,
      0,
      36,
      38,
      30,
      32,
      32,
      22,
    ],
    [
      32,
      38,
      24,
      36,
      0,
      38,
      30,
      32,
      32,
      22,
    ],
    [
      34,
      40,
      26,
      38,
      38,
      0,
      32,
      34,
      34,
      24,
    ],
    [
      26,
      32,
      18,
      30,
      30,
      32,
      0,
      26,
      26,
      16,
    ],
    [
      28,
      34,
      20,
      32,
      32,
      34,
      26,
      0,
      28,
      18,
    ],
    [
      28,
      34,
      20,
      32,
      32,
      34,
      26,
      28,
      0,
      18,
    ],
    [
      18,
      24,
      10,
      22,
      22,
      24,
      16,
      18,
      18,
      0,
    ],
  ],
]
expected = [14, 20, 6, 18, 18, 20, 12, 14, 14, 4]

[[asserts]]
arguments = [
  [
    [
      0,
      22,
      22,
      20,
      15,
      10,
      16,
    ],
    [
      22,
      0,
      32,
      30,
      25,
      20,
      26,
    ],
    [
      22,
      32,
      0,
      30,
      25,
      20,
      26,
    ],
    [
      20,
      30,
      30,
      0,
      23,
      18,
      24,
    ],
    [
      15,
      25,
      25,
      23,
      0,
      13,
      19,
    ],
    [
      10,
      20,
      20,
      18,
      13,
      0,
      14,
    ],
    [
      16,
      26,
      26,
      24,
      19,
      14,
      0,
    ],
  ],
]
expected = [6, 16, 16, 14, 9, 4, 10]

[[asserts]]
arguments = [[[0, 33, 15], [33, 0, 20], [15, 20, 0]]]
expected  = [14, 19, 1]

[[asserts]]
arguments = [[[0, 24, 24], [24, 0, 40], [24, 40, 0]]]
expected  = [4, 20, 20]
