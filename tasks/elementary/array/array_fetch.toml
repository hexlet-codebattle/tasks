level             = "elementary"
name              = "array_fetch"
tags              = ["array", "training"]
time_to_solve_sec = 120

description_en = """
Given an array of integers, an index, and a default value, return the element at the given index.
If the index is out of bounds, return the default value.

A negative index means counting from the end of the array (i.e., $-1$ is the last element).
"""

description_ru = """
Дан массив целых чисел, индекс и значение по умолчанию. Верните элемент массива по указанному индексу.
Если индекс выходит за пределы массива, верните значение по умолчанию.

Отрицательный индекс означает отсчёт с конца массива (например, $-1$ — это последний элемент).
"""

limits = """
- $2 \\leq \\text{len(numbers)} \\leq 5$
- $-20 \\leq numbers_i \\leq 20$
- $-50 \\leq index \\leq 50$
- $-50 \\leq default \\leq 50$
"""

solution = """
def solution(numbers, index, default):
    if index < 0:
        index = len(numbers) + index
    return numbers[index] if 0 <= index < len(numbers) else default
"""

examples = """
solution([1, 2, 3], 1, 10) == 2
solution([1, 2, 3], 5, 10) == 10
solution([1, 2, 3], -1, 10) == 3
"""

[[input_signature]]
argument_name = "numbers"
[input_signature.type]
name = "array"
[input_signature.type.nested]
name = "integer"

[[input_signature]]
argument_name = "index"
[input_signature.type]
name = "integer"

[[input_signature]]
argument_name = "num"
[input_signature.type]
name = "integer"

[output_signature.type]
name = "integer"

# --- TEST CASES (30 total) ---

[[asserts]]
arguments = [[1, 2, 3], 1, 10]
comment   = "Basic positive index"
expected  = 2

[[asserts]]
arguments = [[1, 2, 3], 5, 10]
comment   = "Index out of range returns default"
expected  = 10

[[asserts]]
arguments = [[1, 2, 3], -1, 10]
comment   = "Negative index refers to last element"
expected  = 3

[[asserts]]
arguments = [[1, 2, 3], -5, 10]
comment   = "Negative index too large returns default"
expected  = 10

[[asserts]]
arguments = [[1, -5, 4, 2], 0, 0]
comment   = "Index at beginning"
expected  = 1

[[asserts]]
arguments = [[8, 0, 6, 7], -3, -8]
comment   = "Negative index pointing to second element"
expected  = 0

[[asserts]]
arguments = [[5, 6], 1, 99]
comment   = "Two-element array valid index"
expected  = 6

[[asserts]]
arguments = [[5, 6], 2, 99]
comment   = "Two-element array invalid index"
expected  = 99

[[asserts]]
arguments = [[10, 20, 30], -2, -1]
comment   = "Negative index -2"
expected  = 20

[[asserts]]
arguments = [[10, 20, 30], -3, -1]
comment   = "Negative index equals array size"
expected  = 10

[[asserts]]
arguments = [[10, 20, 30], -4, -1]
comment   = "Negative index too large"
expected  = -1

[[asserts]]
arguments = [[0, 0], -1, 5]
comment   = "Two zeros, last element"
expected  = 0

[[asserts]]
arguments = [[0, 0], 10, 5]
comment   = "Index far outside range"
expected  = 5

[[asserts]]
arguments = [[-3, -2, -1], 2, 100]
comment   = "Negative values, valid index"
expected  = -1

[[asserts]]
arguments = [[-3, -2, -1], 3, 100]
comment   = "Negative values, invalid index"
expected  = 100

[[asserts]]
arguments = [[4, 3, 2, 1], -1, 99]
comment   = "Reverse-sorted, last element"
expected  = 1

[[asserts]]
arguments = [[4, 3, 2, 1], -4, 99]
comment   = "Negative index selecting first element"
expected  = 4

[[asserts]]
arguments = [[4, 3, 2, 1], -5, 99]
comment   = "Negative index too large returns default"
expected  = 99

[[asserts]]
arguments = [[7, 7, 7], 1, 0]
comment   = "All elements identical"
expected  = 7

[[asserts]]
arguments = [[7, 7, 7], -1, 0]
comment   = "Negative index on identical array"
expected  = 7

[[asserts]]
arguments = [[2, 4, 6, 8], 3, -10]
comment   = "Last valid index"
expected  = 8

[[asserts]]
arguments = [[2, 4, 6, 8], 4, -10]
comment   = "Invalid last+1 index"
expected  = -10

[[asserts]]
arguments = [[20, -20, 20], 1, 0]
comment   = "Mixed positive and negative values"
expected  = -20

[[asserts]]
arguments = [[3, 9, 27], -2, 123]
comment   = "Negative index in the middle"
expected  = 9

[[asserts]]
arguments = [[100, 200], -2, 55]
comment   = "Negative index equal to array size"
expected  = 100

[[asserts]]
arguments = [[100, 200], -3, 55]
comment   = "Negative index beyond range"
expected  = 55

[[asserts]]
arguments = [[-1, -2, -3, -4], 2, 777]
comment   = "Negative values with simple index"
expected  = -3

[[asserts]]
arguments = [[-1, -2, -3, -4], -2, 777]
comment   = "Negative values with negative index"
expected  = -3

[[asserts]]
arguments = [[11, 22, 33], 0, 500]
comment   = "Index 0 always valid"
expected  = 11

[[asserts]]
arguments = [[11, 22, 33], 100, 500]
comment   = "Very large index returns default"
expected  = 500
