level             = "medium"
name              = "forecast_quality_pairs"
tags              = ["algo", "combinatorics", "collections", "hash_maps"]
time_to_solve_sec = 540

description_en = """
A fan predicted an ordering of winners. After the contest, the final ordering became known.
Let the **quality** of the forecast be the number of pairs $(p_i, p_j)$ such that $p_i$ is ranked before $p_j$ in **both** the forecast and the results.
Both arrays contain the same distinct participants (a permutation). Return the quality.
"""

description_ru = """
Болельщик предсказал порядок победителей. После соревнования известен окончательный порядок.
Определим **качество** прогноза как число пар $(p_i, p_j)$, где $p_i$ расположен раньше $p_j$ **и** в прогнозе, и в итогах.
Оба массива содержат одних и тех же уникальных участников (перестановка). Верните качество.
"""

limits = """
- $1 \\leq \\text{len(predicted)} \\leq 20$
- $\\text{len(predicted)} = \\text{len(real)}$
"""

solution = """
def solution(predicted: list, real: list) -> int:
    pos = {name: i for i, name in enumerate(real)}
    ans = 0
    n = len(predicted)
    for i in range(n):
        for j in range(i + 1, n):
            if pos[predicted[i]] < pos[predicted[j]]:
                ans += 1
    return ans
"""

examples = """
solution(["Fedor", "Ivan"], ["Fedor", "Ivan"]) == 1
solution(["Fedor", "Ivan"], ["Ivan", "Fedor"]) == 0
solution(["Ivan", "Maria", "Fedor"], ["Maria", "Ivan", "Fedor"]) == 2
"""

[[input_signature]]
argument_name = "predicted"
[input_signature.type]
name = "array"
[input_signature.type.nested]
name = "string"

[[input_signature]]
argument_name = "real"
[input_signature.type]
name = "array"
[input_signature.type.nested]
name = "string"

[output_signature.type]
name = "integer"

[[asserts]]
arguments = [["Fedor", "Ivan"], ["Fedor", "Ivan"]]
expected  = 1

[[asserts]]
arguments = [["Fedor", "Ivan"], ["Ivan", "Fedor"]]
expected  = 0

[[asserts]]
arguments = [["Ivan", "Maria", "Fedor"], ["Maria", "Ivan", "Fedor"]]
expected  = 2

[[asserts]]
arguments = [
  [
    "Q",
    "M",
    "H",
    "F",
    "O",
    "B",
    "R",
    "S",
    "A",
  ],
  [
    "M",
    "H",
    "B",
    "A",
    "Q",
    "F",
    "O",
    "R",
    "S",
  ],
]
expected = 26

[[asserts]]
arguments = [
  [
    "S",
    "U",
    "F",
    "E",
    "R",
    "M",
    "N",
    "I",
    "Q",
    "H",
  ],
  [
    "Q",
    "N",
    "M",
    "H",
    "S",
    "F",
    "E",
    "U",
    "I",
    "R",
  ],
]
expected = 17

[[asserts]]
arguments = [
  [
    "T",
    "L",
    "J",
    "W",
    "X",
    "R",
    "M",
  ],
  [
    "X",
    "W",
    "R",
    "L",
    "J",
    "M",
    "T",
  ],
]
expected = 8

[[asserts]]
arguments = [
  [
    "P",
    "K",
    "J",
    "D",
    "E",
    "Q",
    "Y",
    "U",
    "A",
    "T",
  ],
  [
    "Y",
    "K",
    "T",
    "J",
    "A",
    "P",
    "Q",
    "E",
    "U",
    "D",
  ],
]
expected = 21

[[asserts]]
arguments = [
  [
    "P",
    "O",
    "Q",
    "B",
    "M",
    "J",
    "S",
    "Z",
  ],
  [
    "J",
    "O",
    "M",
    "B",
    "S",
    "Z",
    "Q",
    "P",
  ],
]
expected = 12

[[asserts]]
arguments = [["W", "Q", "A", "B", "E"], ["A", "W", "B", "Q", "E"]]
expected  = 7

[[asserts]]
arguments = [
  [
    "D",
    "H",
    "F",
    "E",
    "A",
    "G",
    "Y",
    "T",
  ],
  [
    "Y",
    "G",
    "T",
    "A",
    "H",
    "D",
    "E",
    "F",
  ],
]
expected = 6

[[asserts]]
arguments = [["G", "V"], ["V", "G"]]
expected  = 0

[[asserts]]
arguments = [["E", "G", "N", "R", "L", "J"], ["E", "R", "J", "N", "L", "G"]]
expected  = 8

[[asserts]]
arguments = [["A", "B", "M", "V", "E"], ["E", "A", "B", "V", "M"]]
expected  = 5

[[asserts]]
arguments = [["Q", "K", "S", "C", "Y", "P"], ["S", "P", "K", "Q", "Y", "C"]]
expected  = 7

[[asserts]]
arguments = [
  [
    "V",
    "Z",
    "E",
    "Q",
    "P",
    "X",
    "N",
    "H",
  ],
  [
    "Q",
    "E",
    "V",
    "P",
    "Z",
    "X",
    "H",
    "N",
  ],
]
expected = 21

[[asserts]]
arguments = [
  [
    "P",
    "Z",
    "C",
    "L",
    "W",
    "A",
    "R",
    "N",
    "D",
  ],
  [
    "N",
    "C",
    "L",
    "A",
    "D",
    "W",
    "P",
    "Z",
    "R",
  ],
]
expected = 16

[[asserts]]
arguments = [
  [
    "B",
    "F",
    "Y",
    "C",
    "W",
    "M",
    "A",
  ],
  [
    "B",
    "A",
    "M",
    "Y",
    "C",
    "F",
    "W",
  ],
]
expected = 10

[[asserts]]
arguments = [
  [
    "Z",
    "T",
    "O",
    "B",
    "D",
    "M",
    "X",
    "K",
    "E",
    "A",
  ],
  [
    "E",
    "K",
    "D",
    "M",
    "A",
    "B",
    "T",
    "X",
    "Z",
    "O",
  ],
]
expected = 11

[[asserts]]
arguments = [
  [
    "D",
    "F",
    "C",
    "A",
    "E",
    "M",
    "L",
    "S",
    "U",
    "H",
  ],
  [
    "L",
    "F",
    "E",
    "S",
    "U",
    "M",
    "H",
    "A",
    "C",
    "D",
  ],
]
expected = 18

[[asserts]]
arguments = [["D", "H", "G", "C"], ["H", "C", "D", "G"]]
expected  = 3

[[asserts]]
arguments = [
  [
    "Q",
    "Z",
    "F",
    "K",
    "B",
    "V",
    "W",
    "S",
    "C",
  ],
  [
    "V",
    "K",
    "Q",
    "F",
    "C",
    "W",
    "S",
    "B",
    "Z",
  ],
]
expected = 18

[[asserts]]
arguments = [
  [
    "R",
    "U",
    "N",
    "A",
    "Q",
    "X",
    "B",
  ],
  [
    "A",
    "X",
    "B",
    "U",
    "Q",
    "N",
    "R",
  ],
]
expected = 6

[[asserts]]
arguments = [["U", "P", "V"], ["U", "P", "V"]]
expected  = 3

[[asserts]]
arguments = [
  [
    "C",
    "V",
    "M",
    "E",
    "N",
    "Z",
    "U",
  ],
  [
    "N",
    "Z",
    "M",
    "E",
    "U",
    "V",
    "C",
  ],
]
expected = 6

[[asserts]]
arguments = [
  [
    "I",
    "J",
    "E",
    "N",
    "O",
    "F",
    "S",
  ],
  [
    "O",
    "N",
    "F",
    "J",
    "E",
    "S",
    "I",
  ],
]
expected = 8

[[asserts]]
arguments = [["F", "H", "I", "Y", "M"], ["I", "Y", "M", "H", "F"]]
expected  = 3

[[asserts]]
arguments = [["N", "G", "O"], ["G", "N", "O"]]
expected  = 2

[[asserts]]
arguments = [
  [
    "M",
    "Y",
    "W",
    "I",
    "H",
    "P",
    "X",
    "A",
    "Q",
  ],
  [
    "X",
    "H",
    "A",
    "I",
    "W",
    "P",
    "M",
    "Q",
    "Y",
  ],
]
expected = 13

[[asserts]]
arguments = [
  [
    "X",
    "R",
    "I",
    "B",
    "G",
    "H",
    "J",
  ],
  [
    "H",
    "G",
    "J",
    "X",
    "R",
    "I",
    "B",
  ],
]
expected = 8

[[asserts]]
arguments = [["H", "I", "S", "Y"], ["S", "H", "Y", "I"]]
expected  = 3

[[asserts]]
arguments = [
  [
    "K",
    "L",
    "O",
    "J",
    "H",
    "Z",
    "D",
    "Q",
  ],
  [
    "Q",
    "K",
    "D",
    "O",
    "Z",
    "L",
    "J",
    "H",
  ],
]
expected = 12

[[asserts]]
arguments = [
  [
    "R",
    "Z",
    "F",
    "H",
    "I",
    "S",
    "V",
    "P",
    "X",
    "Y",
  ],
  [
    "Y",
    "F",
    "Z",
    "V",
    "I",
    "P",
    "X",
    "S",
    "H",
    "R",
  ],
]
expected = 18
