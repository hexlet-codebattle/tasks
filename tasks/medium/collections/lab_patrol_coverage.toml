level             = "medium"
name              = "lab_patrol_coverage"
tags              = ["collections"]
time_to_solve_sec = 450

description_en = """
Hawkins Lab logs guard patrols. Given a list of time intervals `[start, end]` in hours, return the total covered time. Intervals are half-open: `start` is included, `end` is excluded.
"""

description_ru = """
Лаборатория Хокинса ведет записи патрулей. Дан список интервалов времени `[start, end]` в часах, верните общее покрытое время. Интервалы полуоткрытые: `start` включен, `end` исключен.
"""

solution = """
def solution(intervals: list[list[int]]) -> int:
    if not intervals: return 0
    intervals = sorted(intervals)
    total = 0
    cur_s, cur_e = intervals[0]
    for s, e in intervals[1:]:
        if s <= cur_e:
            cur_e = max(cur_e, e)
        else:
            total += cur_e - cur_s
            cur_s, cur_e = s, e
    return total + cur_e - cur_s
"""

examples = """
solution([]) == 0
solution([[1, 3]]) == 2
solution([[1, 3], [2, 6]]) == 5
"""

[[input_signature]]
argument_name = "intervals"
[input_signature.type]
name = "array"
[input_signature.type.nested]
name = "array"
[input_signature.type.nested.nested]
name = "integer"

[output_signature.type]
name = "integer"

[[asserts]]
arguments = [[]]
expected  = 0

[[asserts]]
arguments = [[[1, 3]]]
expected  = 2

[[asserts]]
arguments = [[[1, 3], [2, 6]]]
expected  = 5

[[asserts]]
arguments = [[[1, 2], [3, 4]]]
expected  = 2

[[asserts]]
arguments = [[[1, 5], [2, 3]]]
expected  = 4

[[asserts]]
arguments = [[[0, 1], [1, 2], [2, 3]]]
expected  = 3

[[asserts]]
arguments = [[[5, 8], [1, 3]]]
expected  = 5

[[asserts]]
arguments = [[[1, 4], [4, 6]]]
expected  = 5

[[asserts]]
arguments = [[[1, 4], [5, 7]]]
expected  = 5

[[asserts]]
arguments = [[[2, 6], [1, 3], [7, 9]]]
expected  = 7

[[asserts]]
arguments = [[[10, 12], [1, 2], [2, 10]]]
expected  = 11

[[asserts]]
arguments = [[[3, 5], [1, 2], [6, 8]]]
expected  = 5

[[asserts]]
arguments = [[[0, 10], [2, 3], [4, 5]]]
expected  = 10

[[asserts]]
arguments = [[[1, 3], [3, 3]]]
expected  = 2

[[asserts]]
arguments = [[[1, 3], [3, 4], [4, 4]]]
expected  = 3

[[asserts]]
arguments = [[[1, 2], [2, 5], [6, 10]]]
expected  = 8

[[asserts]]
arguments = [[[6, 10], [1, 2], [2, 5]]]
expected  = 8

[[asserts]]
arguments = [[[1, 2], [2, 3], [3, 4], [4, 5]]]
expected  = 4

[[asserts]]
arguments = [[[1, 10], [2, 9], [3, 8]]]
expected  = 9

[[asserts]]
arguments = [[[8, 12], [2, 4], [4, 8]]]
expected  = 10

[[asserts]]
arguments = [[[1, 1]]]
expected  = 0

[[asserts]]
arguments = [[[0, 24]]]
expected  = 24

[[asserts]]
arguments = [[[0, 5], [5, 10], [10, 15]]]
expected  = 15

[[asserts]]
arguments = [[[0, 5], [2, 7], [9, 12]]]
expected  = 10

[[asserts]]
arguments = [[[2, 3], [3, 6], [6, 6]]]
expected  = 4
