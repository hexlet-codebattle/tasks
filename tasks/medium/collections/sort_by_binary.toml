level             = "medium"
name              = "sort_by_binary"
tags              = ["collections", "sorting", "algo"]
time_to_solve_sec = 400

description_en = """
Sort an array of integers by the number of 1's in their binary representation (in ascending order). If two integers have the same number of 1's in their binary representation, their relative order should be the same as in the original array (stable sort).
"""

description_ru = """
Отсортируйте массив целых чисел по количеству 1 в их двоичном представлении (в порядке возрастания). Если два числа имеют одинаковое количество 1 в двоичном представлении, их порядок относительно друг друга должен быть таким же, как в исходном массиве (стабильная сортировка).
"""

limits = """
- $1 \\leq \\text{len}(\\text{arr}) \\leq 1000$
- $0 \\leq \\text{arr}[i] \\leq 10^6$
"""

solution = """
def solution(arr: list[int]) -> list[int]:
    def count_ones(n):
        return bin(n).count('1')
    return sorted(arr, key=count_ones)
"""

examples = """
solution([1, 2, 3, 4]) == [1, 2, 4, 3]
solution([9, 8, 7, 6]) == [8, 9, 6, 7]
solution([5, 4, 2, 7]) == [4, 2, 5, 7]
solution([255, 7, 5, 64]) == [64, 5, 7, 255]
"""

[[input_signature]]
argument_name = "arr"
[input_signature.type]
name = "array"
[input_signature.type.nested]
name = "integer"

[output_signature.type]
name = "array"
[output_signature.type.nested]
name = "integer"

[[asserts]]
arguments = [[1, 2, 3, 4]]
comment   = "Simple sequence"
expected  = [1, 2, 4, 3]

[[asserts]]
arguments = [[9, 8, 7, 6]]
comment   = "Descending sequence"
expected  = [8, 9, 6, 7]

[[asserts]]
arguments = [[255, 7, 5, 64]]
comment   = "Mixed values"
expected  = [64, 5, 7, 255]

[[asserts]]
arguments = [[5, 4, 2, 7]]
comment   = "Random order"
expected  = [4, 2, 5, 7]

[[asserts]]
arguments = [[0]]
comment   = "Single zero"
expected  = [0]

[[asserts]]
arguments = [[1]]
comment   = "Single one"
expected  = [1]

[[asserts]]
arguments = [[15, 15, 15]]
comment   = "All same values"
expected  = [15, 15, 15]

[[asserts]]
arguments = [[0, 1, 2, 3]]
comment   = "Starting with zero"
expected  = [0, 1, 2, 3]

[[asserts]]
arguments = [[7, 6, 5, 4, 3, 2, 1]]
comment   = "Descending from 7"
expected  = [4, 2, 1, 6, 5, 3, 7]

[[asserts]]
arguments = [[8, 9, 10, 11]]
comment   = "Sequential from 8"
expected  = [8, 9, 10, 11]

[[asserts]]
arguments = [[16, 17, 18, 19]]
comment   = "Sequential from 16"
expected  = [16, 17, 18, 19]

[[asserts]]
arguments = [[31, 32, 33]]
comment   = "Around power of 2"
expected  = [32, 33, 31]

[[asserts]]
arguments = [[63, 64, 65]]
comment   = "Around 64"
expected  = [64, 65, 63]

[[asserts]]
arguments = [[127, 128, 129]]
comment   = "Around 128"
expected  = [128, 129, 127]

[[asserts]]
arguments = [[100, 101, 102, 103]]
comment   = "Hundreds range"
expected  = [100, 101, 102, 103]

[[asserts]]
arguments = [[3, 5, 7, 9, 11]]
comment   = "Odd numbers"
expected  = [3, 5, 9, 7, 11]

[[asserts]]
arguments = [[2, 4, 6, 8, 10]]
comment   = "Even numbers"
expected  = [2, 4, 8, 6, 10]

[[asserts]]
arguments = [[15, 31, 63, 127]]
comment   = "All ones in binary"
expected  = [15, 31, 63, 127]

[[asserts]]
arguments = [[1, 2, 4, 8, 16]]
comment   = "Powers of 2"
expected  = [1, 2, 4, 8, 16]

[[asserts]]
arguments = [[20, 21, 22, 23]]
comment   = "Twenties range"
expected  = [20, 21, 22, 23]

[[asserts]]
arguments = [[50, 51, 52, 53]]
comment   = "Fifties range"
expected  = [50, 52, 51, 53]

[[asserts]]
arguments = [[12, 13, 14, 15]]
comment   = "Teens range"
expected  = [12, 13, 14, 15]

[[asserts]]
arguments = [[24, 25, 26, 27]]
comment   = "Mid twenties"
expected  = [24, 25, 26, 27]

[[asserts]]
arguments = [[40, 41, 42, 43]]
comment   = "Forties range"
expected  = [40, 41, 42, 43]

[[asserts]]
arguments = [[60, 61, 62, 63]]
comment   = "Around 63"
expected  = [60, 61, 62, 63]

[[asserts]]
arguments = [[80, 81, 82, 83]]
comment   = "Eighties range"
expected  = [80, 81, 82, 83]

[[asserts]]
arguments = [[90, 91, 92, 93]]
comment   = "Nineties range"
expected  = [90, 92, 91, 93]

[[asserts]]
arguments = [[110, 111, 112, 113]]
comment   = "Over hundred"
expected  = [112, 113, 110, 111]

[[asserts]]
arguments = [[200, 201, 202, 203]]
comment   = "Two hundreds"
expected  = [200, 201, 202, 203]

[[asserts]]
arguments = [[10, 20, 30, 40, 50]]
comment   = "Multiples of 10"
expected  = [10, 20, 40, 50, 30]
