level             = "medium"
name              = "linear_equation_system"
tags              = ["math", "algebra"]
time_to_solve_sec = 300

description_en = """
Given coefficients $a,b,c,d,e,f$ of a linear system:
$\\begin{cases} ax + by + c = 0 \\\\ dx + ey + f = 0 \\end{cases}$
Return the solution **as strings**: `["x","y"]` if a unique solution exists.
If there are infinitely many solutions, return `["Inf"]`.
If there are no solutions, return `["None"]`.

Formatting:
- If a coordinate is an integer, return it without decimal places (e.g., `"2"`, `"-7"`).
- Otherwise, round to 3 decimal places (e.g., `"-0.625" -> "-0.625"`, `"1.5" -> "1.5"`).
"""

description_ru = """
Даны коэффициенты $a,b,c,d,e,f$ системы уравнений:
$\\begin{cases} ax + by + c = 0 \\\\ dx + ey + f = 0 \\end{cases}$
Верните решение **в виде строк**: `["x","y"]`, если решение единственно.
Если решений бесконечно много, верните `["Inf"]`.
Если решений нет, верните `["None"]`.

Формат:
- Если координата — целое число, верните без десятичной части (напр., `"2"`, `"-7"`).
- Иначе округлите до 3 знаков после запятой (напр., `"-0.625"`, `"1.5"`).
"""

limits = """
$ a,b,c,d,e,f\\in\\mathbb{Z} $
$ |a|,|b|,|c|,|d|,|e|,|f| \\le 10^3 $
"""

solution = """
def solution(a, b, c, d, e, f):
    # System:
    # a*x + b*y + c = 0
    # d*x + e*y + f = 0
    # Rewrite as:
    # a*x + b*y = -c
    # d*x + e*y = -f
    det = a*e - b*d
    if det == 0:
        # Check proportional rows (infinite solutions) vs inconsistent (none)
        if a*f - c*d == 0 and b*f - c*e == 0:
            return ["Inf"]
        else:
            return ["None"]

    # Cramer's rule
    x = (b*f - c*e) / det
    y = (c*d - a*f) / det

    def fmt(v):
        # integer -> no decimals; else round to 3 decimals (drop trailing zeros)
        if abs(v - int(v)) < 1e-12:
            return str(int(v))
        v_rounded = round(v + 0.0, 3)
        s = f"{v_rounded:.3f}"
        # strip trailing zeros and possible trailing dot
        s = s.rstrip('0').rstrip('.')
        return s if s else "0"

    return [fmt(x), fmt(y)]
"""

examples = """
solution(1, 1, 1, 1, 1, 1) == ["Inf"]
solution(2, 3, 2, 2, 3, 4) == ["None"]
solution(3, 4, 5, 2, 1, 2) == ["-0.6", "-0.8"]
"""

[[input_signature]]
argument_name = "a"
[input_signature.type]
name = "integer"

[[input_signature]]
argument_name = "b"
[input_signature.type]
name = "integer"

[[input_signature]]
argument_name = "c"
[input_signature.type]
name = "integer"

[[input_signature]]
argument_name = "d"
[input_signature.type]
name = "integer"

[[input_signature]]
argument_name = "e"
[input_signature.type]
name = "integer"

[[input_signature]]
argument_name = "f"
[input_signature.type]
name = "integer"

[output_signature.type]
name = "array"
[output_signature.type.nested]
name = "string"

[[asserts]]
arguments = [2, 2, 2, 4, 4, 8]
expected  = ["None"]

[[asserts]]
arguments = [2, 2, 2, 4, 4, 4]
expected  = ["Inf"]

[[asserts]]
arguments = [3, 4, 5, 2, 1, 2]
expected  = ["-0.6", "-0.8"]

[[asserts]]
arguments = [3, 2, 1, 10, 11, 12]
expected  = ["1", "-2"]

[[asserts]]
arguments = [4, 4, 3, 2, 2, 1]
expected  = ["None"]

[[asserts]]
arguments = [120, 140, 160, 160, 140, 120]
expected  = ["1", "-2"]

[[asserts]]
arguments = [400, 400, 400, 2, 2, 2]
expected  = ["Inf"]

[[asserts]]
arguments = [-3, -2, 1, 5, 6, -7]
expected  = ["-1", "2"]

[[asserts]]
arguments = [8, 8, 4, 1, 0, 2]
expected  = ["-2", "1.5"]

[[asserts]]
arguments = [1, -1, 3, 0, 1, 0]
expected  = ["-3", "0"]

[[asserts]]
arguments = [1, 1, -2, 9, 9, -14]
expected  = ["None"]

[[asserts]]
arguments = [-3, -7, -8, 5, 9, 8]
expected  = ["2", "-2"]

[[asserts]]
arguments = [1, -2, 1, 3, 4, 7]
expected  = ["-1.8", "-0.4"]

[[asserts]]
arguments = [-1, 2, 3, 6, 4, -24]
expected  = ["3.75", "0.375"]

[[asserts]]
arguments = [-5, -3, -2, 5, 3, 2]
expected  = ["Inf"]

[[asserts]]
arguments = [7, 8, 9, 4, 5, 6]
expected  = ["1", "-2"]

[[asserts]]
arguments = [-1, -2, -3, 4, 5, 6]
expected  = ["1", "-2"]

[[asserts]]
arguments = [1, -2, 1, 3, 4, 6]
expected  = ["-1.6", "-0.3"]

[[asserts]]
arguments = [-1, -2, 1, 3, 4, 6]
expected  = ["-8", "4.5"]
