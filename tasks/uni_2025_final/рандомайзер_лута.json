{
  "name": "Рандомайзер_лута",
  "description_ru": "Даны веса возможных предметов в виде словаря `{ 'item': WEIGHT }` и «случайное» целое число от 1 до суммы весов. Определите предмет, который выпадет. Предметы занимают последовательные интервалы (сортировка по возрастанию веса, потом по алфавиту), пропорциональные их весу.",
  "description_en": "Given item weights as a dictionary `{ 'item': WEIGHT }` and a 'random' integer from 1 to the total weight sum. Determine which item is dropped. Items occupy consecutive intervals (sorted by weight ascending, then alphabetically) proportional to their weight.",
  "examples": "```\nsolution({ 'sword':10, 'shield':20 }, 15) == 'shield'\n```",
  "input_signature": [
    {
      "argument_name": "weights",
      "type": {
        "name": "hash",
        "nested": { "name": "integer" }
      }
    },
    {
      "argument_name": "roll",
      "type": {
        "name": "integer"
      }
    }
  ],
  "output_signature": {
    "type": {
      "name": "string"
    }
  },
  "solution": "def solution(weights, roll):\n    s_items = sorted(weights.items(), key=lambda x: (x[1], x[0]))\n    \n    c_weight = 0\n    for item, weight in s_items:\n        c_weight += weight\n        if roll <= c_weight:\n            return item",
  "asserts": [
    {
      "arguments": [{ "sword": 10, "shield": 20 }, 15],
      "expected": "shield",
      "comment": "Пример из описания"
    },
    {
      "arguments": [{ "sword": 10, "shield": 20 }, 10],
      "expected": "sword",
      "comment": "Граничное значение, первый предмет"
    },
    {
      "arguments": [{ "sword": 10, "shield": 20 }, 30],
      "expected": "shield",
      "comment": "Граничное значение, последний предмет"
    },
    {
      "arguments": [{ "sword": 10, "shield": 20 }, 1],
      "expected": "sword",
      "comment": "Минимально возможный ролл"
    },
    {
      "arguments": [{ "ruby": 10, "amber": 10 }, 15],
      "expected": "ruby",
      "comment": "Сортировка по алфавиту при равных весах"
    },
    {
      "arguments": [{ "ruby": 20, "amber": 10 }, 15],
      "expected": "ruby",
      "comment": "Сортировка по весу"
    },
    {
      "arguments": [{ "armor": 50, "sword": 25, "potion": 25 }, 50],
      "expected": "sword",
      "comment": "Три предмета, ролл на границе"
    },
    {
      "arguments": [{ "armor": 50, "sword": 25, "potion": 25 }, 51],
      "expected": "armor",
      "comment": "Три предмета, ролл в последнем интервале"
    },
    {
      "arguments": [{ "gem": 100 }, 42],
      "expected": "gem",
      "comment": "Один предмет в луте"
    },
    {
      "arguments": [{ "dust": 1, "rock": 99 }, 1],
      "expected": "dust",
      "comment": "Предмет с минимальным весом"
    },
    {
      "arguments": [{ "helmet": 15, "boots": 15, "gloves": 15 }, 30],
      "expected": "gloves",
      "comment": "Равные веса, сортировка по имени"
    },
    {
      "arguments": [{ "helmet": 15, "boots": 15, "gloves": 15 }, 31],
      "expected": "helmet",
      "comment": "Равные веса, следующий интервал"
    },
    {
      "arguments": [{ "wood": 70, "iron": 25, "diamond": 5 }, 30],
      "expected": "iron",
      "comment": "Типичное распределение редкости"
    },
    {
      "arguments": [{ "wood": 70, "iron": 25, "diamond": 5 }, 31],
      "expected": "wood",
      "comment": "Типичное распределение редкости, ролл в последнем интервале"
    },
    {
      "arguments": [{ "wood": 70, "iron": 25, "diamond": 5 }, 100],
      "expected": "wood",
      "comment": "Максимально возможный ролл"
    },
    {
      "arguments": [{ "axe": 10, "bow": 20, "crossbow": 30 }, 60],
      "expected": "crossbow",
      "comment": "Сортировка по весу, последний предмет"
    },
    {
      "arguments": [{ "axe": 10, "bow": 20, "crossbow": 30 }, 30],
      "expected": "bow",
      "comment": "Сортировка по весу, граница"
    },
    {
      "arguments": [{ "axe": 10, "bow": 20, "crossbow": 30 }, 31],
      "expected": "crossbow",
      "comment": "Сортировка по весу, начало интервала"
    },
    {
      "arguments": [{ "topaz": 1, "sapphire": 1, "ruby": 1 }, 1],
      "expected": "ruby",
      "comment": "Обратный алфавитный порядок ключей"
    },
    {
      "arguments": [{ "topaz": 1, "sapphire": 1, "ruby": 1 }, 2],
      "expected": "sapphire",
      "comment": "Обратный алфавитный порядок ключей"
    },
    {
      "arguments": [{ "topaz": 1, "sapphire": 1, "ruby": 1 }, 3],
      "expected": "topaz",
      "comment": "Обратный алфавитный порядок ключей"
    },
    {
      "arguments": [{ "orb": 1000, "rune": 1000, "talisman": 1000 }, 2500],
      "expected": "talisman"
    },
    {
      "arguments": [{ "gold": 1, "silver": 1, "bronze": 1, "platinum": 1 }, 2],
      "expected": "gold"
    },
    {
      "arguments": [{ "dagger": 5, "staff": 5, "wand": 5 }, 10],
      "expected": "staff"
    },
    {
      "arguments": [{ "opal": 1, "pearl": 100, "ivory": 1 }, 1],
      "expected": "ivory"
    },
    {
      "arguments": [{ "opal": 1, "pearl": 100, "ivory": 1 }, 2],
      "expected": "opal"
    },
    {
      "arguments": [{ "opal": 1, "pearl": 100, "ivory": 1 }, 102],
      "expected": "pearl"
    },
    {
      "arguments": [
        {
          "ruby": 5,
          "sapphire": 5,
          "emerald": 10,
          "diamond": 1,
          "amethyst": 15,
          "topaz": 10,
          "opal": 20,
          "garnet": 1,
          "mace": 8,
          "spear": 8
        },
        48
      ],
      "expected": "topaz",
      "comment": "Большое количество предметов с разными весами"
    },
    {
      "arguments": [
        {
          "helmet": 10,
          "boots": 10,
          "gloves": 10,
          "cuirass": 25,
          "greaves": 25,
          "gauntlets": 25,
          "pauldrons": 25,
          "sword": 15,
          "shield": 15,
          "potion": 5,
          "elixir": 5,
          "scroll": 1,
          "grimoire": 1,
          "orb": 2
        },
        161
      ],
      "expected": "pauldrons",
      "comment": "Очень большое количество предметов с одинаковыми весами"
    }
  ],
  "level": "easy",
  "tags": ["sort", "dict"],
  "visibility": "public",
  "origin": "user",
  "generator_lang": "python",
  "time_to_solve_sec": 2000
}
